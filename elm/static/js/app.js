webpackJsonp([1,0],[function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}s(16);var n=s(2),i=a(n),o=s(31),c=a(o),r=s(17),l=a(r);s(11);var u=s(23),d=a(u),f=s(26),_=a(f),v=s(24),p=a(v),h=s(25),m=a(h);i.default.use(c.default),i.default.use(l.default);var C=[{path:"/home",name:"home",component:p.default},{path:"/test",name:"test",component:_.default},{path:"/searchLocation",name:"searchlocation",component:m.default}],g=new c.default({routes:C});new i.default({el:"#app",router:g,components:{App:d.default}})},,,,function(t,e){"use strict"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"App",components:{},data:function(){return{guessCity:[],hotCity:[],group:[]}},beforeMount:function(){this.getCity("guess"),this.getCity("hot"),this.getCity("group")},methods:{getCity:function(t){var e=this,s={method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",cache:"force-cache"},a=new Request("http://elm.cangdu.org:8001/v1/cities?type="+t,s);fetch(a).then(function(t){return t.json()}).then(function(s){"guess"==t?e.guessCity=s:"hot"==t?e.hotCity=s:e.group=s})}},computed:{sortGroup:function(){for(var t={},e=65;e<=90;e++)this.group[String.fromCharCode(e)]&&(t[String.fromCharCode(e)]=this.group[String.fromCharCode(e)]);return t}}}},function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),i=a(n);e.default={name:"SearchLocation",data:function(){return{gCity:"",value:"",city_id:"",address:[]}},mounted:function(){this.gCity=this.$route.params.city,this.city_id=this.$route.params.id,this.address=JSON.parse(localStorage.getItem("currentAddress"))},methods:{goback:function(t){this.$router.back(-1)},getAddress:function(){var t=this;console.log("getaddress");var e={credentials:"include",method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",cache:"force-cache"},s=new Request("https://elm.cangdu.org/v1/pois?city_id="+this.city_id+"&keyword="+this.value+"&type=search",e);fetch(s).then(function(t){return t.json()}).then(function(e){t.address=e,console.log((0,i.default)(t.address))})},clear:function(){this.address=[]},setStorage:function(t){if(console.log(t),window.localStorage){var e=localStorage.getItem("currentAddress");console.log("storage:"+e);var s=""==e||void 0==e||null==e;e=s?[]:e,console.log("item:"+t),e.push({item:t}),localStorage.setItem("currentAddress",e)}}},components:{}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"test"}},,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,function(t,e,s){s(15);var a=s(1)(s(4),s(30),null,null);t.exports=a.exports},function(t,e,s){s(14);var a=s(1)(s(5),s(29),null,null);t.exports=a.exports},function(t,e,s){s(12);var a=s(1)(s(6),s(27),null,null);t.exports=a.exports},function(t,e,s){s(13);var a=s(1)(s(7),s(28),"data-v-1adf59e4",null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",{staticClass:"slNav bgc_nav mSBcC cFF"},[s("div",{staticClass:"goBack",on:{click:t.goback}},[t._v("<")]),t._v(" "),s("div",{staticClass:"fontBold"},[t._v(t._s(t.gCity))]),t._v(" "),s("div",{staticClass:"changeCity",on:{click:t.goback}},[t._v("切换城市")])]),t._v(" "),s("section",{staticClass:"searchBar bgcFF bt_def bb_def layoutCol",staticStyle:{height:"5.5rem"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"ipt radius",attrs:{type:"search",placeholder:"输入学校、商务楼、地址"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),t._v(" "),s("button",{staticClass:"btn bgc_nav radius cFF fontBold",on:{click:t.getAddress}},[t._v("提交")])]),t._v(" "),s("section",[s("h5",{staticClass:"bt_def bb_def",staticStyle:{"text-indent":"20px"}},[t._v("搜索历史")]),t._v(" "),s("ul",t._l(t.address,function(e){return s("li",{staticClass:"layoutCol bgcFF bt_def bb_def",staticStyle:{"text-indent":"20px"},on:{click:function(s){t.setStorage(e)}}},[s("p",{staticClass:"ellipsis fsPri",staticStyle:{color:"#333","padding-top":"5px","margin-bottom":"5px"}},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"c9 ellipsis fsMin",staticStyle:{"padding-bottom":"5px"}},[t._v(t._s(e.address))])])})),t._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"clearAll bgcFF c9",on:{click:t.clear}},[t._v("清空所有")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"bAllDef mcCenter column"},[s("li",[t._v("123")]),t._v(" "),s("li",[t._v("456")]),t._v(" "),s("li",[t._v("789")]),t._v(" "),s("li",[t._v("012")]),t._v(" "),s("li",[t._v("345")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("section",{staticClass:"layoutCol hidden bgcFF"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"location bb_new mcCenter"},[s("router-link",{staticClass:"currentCity c31",attrs:{to:{name:"searchlocation",params:{city:t.guessCity.name,id:t.guessCity.id}}}},[t._v(t._s(t.guessCity.name))]),t._v(" "),s("span",{staticClass:"icon_arrow"},[t._v(">")])],1)]),t._v(" "),s("section",{staticClass:"hotCity layoutCol bgcFF c6"},[s("h5",{staticClass:"titleHC bt_def bb_def ti box",staticStyle:{"align-items":"center"}},[t._v("热门城市")]),t._v(" "),s("ul",{staticClass:"mcCenter wrap"},t._l(t.hotCity,function(e){return s("li",{key:e.id,staticClass:"mcCenter dataHC bb_def br_def c31"},[t._v(t._s(e.name))])}))]),t._v(" "),t._l(t.sortGroup,function(e,a,n){return s("section",{key:a,staticClass:"sortCity c6 bgcFF layoutCol"},[s("h5",{staticClass:"titleSG bt_def br_def bb_def ti"},[t._v(t._s(a))]),t._v(" "),s("ul",{staticClass:"box",staticStyle:{"flex-wrap":"wrap",width:"100%","font-size":"14px","line-height":"3rem"}},t._l(e,function(e){return s("li",{staticClass:"dataSG bb_def br_def ellipsis",staticStyle:{"text-align":"center"}},[t._v(t._s(e.name))])}))])})],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"head mLcC cFF"},[s("span",{staticClass:"head_logo"},[t._v("ele.me")]),t._v(" "),s("a",{staticClass:"head_login cFF",attrs:{href:""}},[t._v("登录")]),t._v(" "),s("span",[t._v("|")]),t._v(" "),s("a",{staticClass:"head_register cFF",attrs:{href:""}},[t._v("注册")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"guessCity bb_def mcCenter c6 fsMin"},[s("span",{staticClass:"tipsLocation"},[t._v("当前定位城市：")]),t._v(" "),s("span",{staticClass:"tips fontBold"},[t._v("定位不准时，请在城市列表中选择")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]}}]);